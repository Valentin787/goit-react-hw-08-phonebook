{"version":3,"sources":["redux/phoneBook/phoneBookReducer.js","redux/auth/authSlice.js","redux/store.js","components/Navigation/NavItem/NavItem.jsx","components/AuthNav/AuthNav.jsx","components/Navigation/Navigation.jsx","components/UserMenu/UserMenu.jsx","components/AppBar/AppBar.jsx","pages/HomePage/HomePage.jsx","components/UserMenu/PrivateRoute.js","components/UserMenu/PublicRoute.js","components/App/App.jsx","index.js","redux/auth/authOperations.js","redux/auth/authSelectors.js","components/UserMenu/UserMenu.module.css","components/Navigation/NavItem/NavItem.module.css","components/common/Loader/Loader.jsx","components/common/Loader/Loader.module.css","redux/phoneBook/phoneBookActions.js","utils/api-fetch.js","redux/phoneBook/operation.js","redux/phoneBook/phonebook-selectors.js","components/AuthNav/AuthNav.module.css","components/Navigation/Navigation.module.css","components/AppBar/AppBar.module.css","components/App/App.module.css"],"names":["contactsItemReducer","createReducer","builder","addCase","getContacts","fulfilled","_","payload","addContact","state","editContact","map","item","id","deleteContact","filter","loadingReducer","pending","rejected","errorReducer","filterContactsReducer","filterContacts","dataReducer","combineReducers","loading","error","phoneBookReducer","data","authSlice","createSlice","name","initialState","user","email","token","isLoggedIn","fetchLoading","reducers","extraReducers","register","logIn","logOut","fetchUser","logger","createLogger","collapsed","getState","action","logEntry","timestamp","duration","persistContactsConfig","key","storage","whitelist","persistAuthConfig","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","concat","devTools","persistor","persistStore","NavItem","icon","link","className","s","iconWrapper","to","itemName","activeclassname","NavItemActive","span","AuthNav","container","sx","fontSize","Navigation","useSelector","authSelectors","getIsLoggedIn","UserMenu","dispatch","useDispatch","getUserName","btn","type","onClick","authOperations","btnText","spanOut","AppBar","HomePage","PrivateRoute","PublicRoute","SingInPageLazy","lazy","RegisterLazy","ContactsPageLazy","App","loadingSelector","fetchloading","loadingFetchSelector","useEffect","app","Loader","exact","path","element","fallback","ReactDOM","render","StrictMode","document","getElementById","axios","defaults","baseURL","set","headers","common","Authorization","unset","createAsyncThunk","credentials","rejectWithValue","post","persistedToken","get","getToken","module","exports","loader","querySelector","createPortal","wrapLoader","modal","height","width","radius","margin","color","size","createAction","BASE_URL","API_ENDPOINT","fetchData","options","fetch","res","ok","json","Promise","reject","Error","statusText","editItem","number","finalBody","finalOptions","method","body","JSON","stringify","deleteItem","getItems","newContact","thunkApi","saveItem","updateContact","removeContact","contactsState","filterPhoneBook"],"mappings":"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","file":"static/js/main.fb814f7d.chunk.js","sourcesContent":["import {combineReducers,createReducer } from \"@reduxjs/toolkit\";\nimport { getContacts,addContact,deleteContact, editContact } from \"./operation\";\nimport { filterContacts } from './phoneBookActions';\n\n\nconst contactsItemReducer = createReducer([], (builder) => {\n  builder.addCase(getContacts.fulfilled, (_, { payload }) => payload);\n\n  builder.addCase(addContact.fulfilled, (state, { payload }) => [...state, payload]);\n\n   builder.addCase(editContact.fulfilled, (state, { payload }) => state.map((item) => item.id === payload.id ? payload : item\n  ));\n\n  builder.addCase(deleteContact.fulfilled, (state, { payload }) => state.filter((item) => item.id !== payload\n  ));\n\n});\n\nconst loadingReducer = createReducer(false, (builder) => {\n  ///GET_CONTACTS\n  builder.addCase(getContacts.pending, () => true);\n  builder.addCase(getContacts.fulfilled, () => false);\n  builder.addCase(getContacts.rejected, () => false);\n  ///ADD_CONTACTS\n  builder.addCase(addContact.pending, () => true);\n  builder.addCase(addContact.fulfilled, () => false);\n  builder.addCase(addContact.rejected, () => false);\n  ///EDIT_CONTACTS\n  builder.addCase(editContact.pending, () => true);\n  builder.addCase(editContact.fulfilled, () => false);\n  builder.addCase(editContact.rejected, () => false);\n  ///DELETE_CONTACTS\n  builder.addCase(deleteContact.pending, () => true);\n  builder.addCase(deleteContact.fulfilled, () => false);\n  builder.addCase(deleteContact.rejected, () => false);\n});\nconst errorReducer = createReducer(null,(builder) => {\n   ///GET_CONTACTS\n  builder.addCase(getContacts.pending, () => null);\n  builder.addCase(getContacts.rejected, (_,{payload}) => payload);\n  ///ADD_CONTACTS\n  builder.addCase(addContact.pending, () => null);\n  builder.addCase(addContact.rejected, (_, { payload }) => payload);\n  ///EDIT_CONTACTS\n  builder.addCase(editContact.pending, () => null);\n  builder.addCase(editContact.rejected, (_,{payload}) => payload);\n  ///DELETE_CONTACTS\n  builder.addCase(deleteContact.pending, () => null);\n  builder.addCase(deleteContact.rejected, (_,{payload}) => payload);\n  \n})\n\nconst filterContactsReducer = createReducer('', (builder) => {\n  builder.addCase(filterContacts, (_, { payload }) => payload);\n})\n\nconst dataReducer = combineReducers({\n    item: contactsItemReducer,\n    loading: loadingReducer,\n    error: errorReducer\n})\nconst phoneBookReducer = combineReducers({\n    data:dataReducer,\n    filter: filterContactsReducer,\n    \n})\n\nexport default phoneBookReducer;\n","import { createSlice }  from \"@reduxjs/toolkit\";\nimport { register,logIn, logOut,fetchUser } from './authOperations';\n\n\nconst initialState = {\n  user: { name: null, email: null },\n\n  token: null,\n  isLoggedIn: false,\n\n  fetchLoading: false,\n  \n  error: null,\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder\n      //REGISTER\n      .addCase(register.pending, (state) => {\n        state.error = null;\n        state.isLoggedIn = false;\n      })\n      .addCase(register.fulfilled, (state, { payload }) => {\n        state.user = payload.user;\n        state.token = payload.token;\n        state.isLoggedIn = true;\n        state.error = null;\n      })\n      .addCase(register.rejected, (state, { payload }) => {\n        state.error = payload;\n\n      })\n\n      //LOG_IN\n      .addCase(logIn.pending, (state) => {\n        state.error = null;\n        state.isLoggedIn = false;\n      })\n      .addCase(logIn.fulfilled, (state, { payload }) => {\n        state.user = payload.user;\n        state.token = payload.token;\n        state.isLoggedIn = true;\n        state.error = null;\n      })\n      .addCase(logIn.rejected, (state, { payload }) => {\n        state.error = payload;\n\n      })\n      //LOG_OUT\n      .addCase(logOut.pending, (state) => {\n        state.error = null;\n        state.isLoggedIn = false;\n      })\n      .addCase(logOut.fulfilled, (state) => {\n\n        state.user = { name: null, email: null };\n        state.token = null;\n        state.isLoggedIn = false;\n        state.error = null;\n      })\n      .addCase(logOut.rejected, (state, { payload }) => {\n        state.error = payload;\n\n      })\n      //GET_CURRENT_USER\n      .addCase(fetchUser.pending, (state) => {\n        state.fetchLoading = true;\n        state.error = null;\n        state.isLoggedIn = false;\n      })\n      .addCase(fetchUser.fulfilled, (state, { payload }) => {\n        state.user = payload;\n        state.isLoggedIn = true;\n        state.fetchLoading = false;\n        state.error = null;\n      })\n      .addCase(fetchUser.rejected, (state, { payload }) => {\n        state.fetchLoading = false;\n        state.error = payload;\n\n      })\n  }\n})\n\n\nexport default authSlice.reducer;\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport { createLogger } from 'redux-logger'\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist'\n\nimport storage from 'redux-persist/lib/storage' \nimport phoneBookReducer from './phoneBook/phoneBookReducer'\nimport authReducer from './auth/authSlice';\n\nconst logger = createLogger({\n\n  collapsed: (getState, action, logEntry) => !logEntry.error,\n  timestamp: false,\n  duration:true,\n});\n\nconst persistContactsConfig = {\n  key: 'contacts/filter',\n  storage,\n  whitelist: ['filter']\n}\nconst persistAuthConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token']\n}\n\nconst store = configureStore({\n  reducer: { \n    auth:persistReducer(persistAuthConfig, authReducer),\n    contacts: persistReducer(persistContactsConfig, phoneBookReducer),\n  },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER]\n    }\n  }).concat(logger),\n  // devTools: process.env.NODE_ENV !== 'production',\n  devTools: true,\n})\n    \n const persistor = persistStore(store)\n\nexport { store, persistor };\n\n\n","import { NavLink } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./NavItem.module.css\";\n\nconst NavItem = ({ name, icon, link }) => {\n\n  return (\n    <div className={s.NavItem}>\n      <span className={s.iconWrapper}>\n       \n        <NavLink\n          to={link}\n          className={s.itemName}\n          activeclassname={s.NavItemActive}\n        >\n          {name}\n          <span className={s.span}>{icon}</span>\n          \n        </NavLink>\n        \n      </span>\n    </div>\n  );\n}\nNavItem.propTypes = {\n  name: PropTypes.string.isRequired,\n  link: PropTypes.string.isRequired,\n};\n\nexport default NavItem;","import NavItem from 'components/Navigation/NavItem/NavItem';\nimport LoginIcon from '@mui/icons-material/Login';\nimport GroupAddSharpIcon from '@mui/icons-material/GroupAddSharp';\nimport s from './AuthNav.module.css'\n\n\nconst AuthNav = () => {\n  return (\n    <nav className={s.container}>\n      <NavItem\n        key={\"Sing In\"}\n        name={\"Sing In\"}\n        icon={<LoginIcon sx={{ fontSize: 22 }} />}\n        link={\"/sing_in\"}\n      />\n      <NavItem\n        key={\"Register\"}\n        name={\"Register\"}\n        icon={<GroupAddSharpIcon />}\n        link={\"/register\"}\n      />\n    </nav>\n  )\n};\nexport default AuthNav;\n","import { useSelector } from 'react-redux';\nimport { authSelectors } from 'redux/auth';\nimport NavItem from './NavItem/NavItem'\n\nimport CottageRoundedIcon from '@mui/icons-material/CottageRounded';\nimport ContactPhoneIcon from '@mui/icons-material/ContactPhone';\nimport s from './Navigation.module.css'\n\nconst Navigation = () => {\n\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n\n  return (\n  <nav className={s.container}>\n      <NavItem\n        key={\"HomePage\"}\n        name={\"HomePage\"}\n        icon={<CottageRoundedIcon/>}\n        link={\"/\"}\n        />\n{isLoggedIn && <NavItem\n        key={\"PhoneBook\"}\n        name={\"PhoneBook\"}\n        icon={<ContactPhoneIcon/>}\n        link={\"/phonebook\"}\n        />}\n    </nav>\n  )\n}\n\nexport default Navigation","import { useSelector, useDispatch } from 'react-redux';\nimport { authSelectors, authOperations } from '../../redux/auth';\nimport AccountCircleSharpIcon from '@mui/icons-material/AccountCircleSharp';\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport s from './UserMenu.module.css'\n\n\nconst UserMenu = () => {\n\n  const dispatch = useDispatch();\n  const name = useSelector(authSelectors.getUserName);\n\n  return (\n    <div className={s.container}>\n      <span className={s.itemName}>\n        Welcome,{name}\n        <span className={s.span}>\n          <AccountCircleSharpIcon />\n        </span>\n      </span>\n      <button\n        className={s.btn}\n        type='button'\n        onClick={() => dispatch(authOperations.logOut())}\n      >\n        <span className={s.btnText}>Out</span>\n        <span className={s.spanOut}> <LogoutIcon /></span>\n        \n      </button>\n    </div>\n  )\n}\n\nexport default UserMenu;","import { useSelector } from 'react-redux'\nimport { authSelectors } from 'redux/auth'\nimport AuthNav from 'components/AuthNav';\nimport Navigation from 'components/Navigation';\nimport UserMenu from 'components/UserMenu'\n\n\nimport s from './AppBar.module.css'\n\n\nconst AppBar = () => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn)\n  return (\n    <header>\n      <nav className={s.container}>\n        <Navigation />\n        {isLoggedIn ? <UserMenu /> : <AuthNav />}\n      </nav>\n      <hr />\n \n    </header>\n  )\n};\n\nexport default AppBar;\n","\nconst HomePage = () => {\n  return (\n    <div></div>\n  )\n};\n\nexport default HomePage;\n","import { useSelector } from 'react-redux'\nimport { Navigate,Outlet } from 'react-router-dom';\nimport { authSelectors } from '../../redux/auth'\n\nconst PrivateRoute = () => {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    isLoggedIn ? <Outlet /> : <Navigate to='/sing_in' />\n  )\n};\n\nexport default PrivateRoute;","import { useSelector } from 'react-redux';\nimport { authSelectors } from 'redux/auth';\nimport { Outlet, Navigate } from 'react-router-dom';\n\nconst PublicRoute = () => {\n  \n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    !isLoggedIn ? <Outlet /> : <Navigate to='/phonebook' />\n  )\n};\nexport default PublicRoute","import { useEffect} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { lazy, Suspense } from 'react';\nimport { Routes, Route } from \"react-router-dom\";\n\nimport  AppBar  from 'components/AppBar';\nimport  HomePage  from 'pages/HomePage';\nimport Loader from '../common/Loader';\n\nimport PrivateRoute from 'components/UserMenu/PrivateRoute';\nimport PublicRoute from 'components/UserMenu/PublicRoute';\n\nimport { loadingSelector } from '../../redux/phoneBook/phonebook-selectors';\nimport { authSelectors, authOperations } from '../../redux/auth';\n\nimport s from './App.module.css';\n\n\n\nconst SingInPageLazy = lazy(() => import('../../pages/auth/SingInPage'));\nconst RegisterLazy = lazy(() => import('../../pages/auth/Register'));\nconst ContactsPageLazy = lazy(() => import('../../pages/ContactsPage'));\n\n\nconst App = () => {\n\n  const loading = useSelector(loadingSelector);\n  const fetchloading = useSelector(authSelectors.loadingFetchSelector);\n\n  const dispatch = useDispatch();\n\n\n  //GET_CURRENT_USER\n\n  useEffect(() => {\n    \n    dispatch(authOperations.fetchUser())  \n    \n  }, [dispatch])\n  \n  return (\n    <div className={s.app}>\n{loading && <Loader loading={loading} />}\n      \n      {!fetchloading &&\n        <>\n          <AppBar />\n          <Routes>\n\n            <Route\n              exact\n              path=\"/\"\n              element={<HomePage />}>\n            </Route>\n            {/* //////////////////////// */}\n            <Route element={\n              <PublicRoute />}>\n\n              <Route\n                exact\n                path=\"/register\"\n                element={\n                  <Suspense fallback={<Loader />}>\n                    <RegisterLazy />\n                  </Suspense>}\n              />\n\n              <Route\n                exact\n                path=\"/sing_in\"\n                element={\n                  <Suspense fallback={<Loader />}>\n                    <SingInPageLazy />\n                  </Suspense>}\n              />\n            </Route>\n            {/* //////////////////////// */}\n            <Route element={<PrivateRoute />}>\n              <Route\n                path=\"/phonebook\"\n                element={\n                  <Suspense fallback={<Loader />}>\n                    <ContactsPageLazy />\n                  </Suspense>}\n              />\n            </Route>\n          </Routes>\n        </>}\n  </div>\n  );\n};\n\nexport default App;\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react'\nimport {store,persistor} from './redux/store';\nimport App from './components/App/App';\n\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport axios  from \"axios\";\n\naxios.defaults.baseURL = \"https://connections-api.herokuapp.com\";\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = ''\n  }\n};\n\nconst register = createAsyncThunk('auth/register', async (credentials,{rejectWithValue}) => {\n  try {\n    const { data } = await axios.post('/users/signup', credentials)\n    token.set(data.token)\n    return data\n  } catch (error) {\n    return rejectWithValue()\n  }\n})\n\nconst logIn = createAsyncThunk('auth/logIn', async (credentials,{rejectWithValue}) => {\n  try {\n    const { data } = await axios.post('/users/login', credentials)\n    token.set(data.token)\n    return data\n  } catch (error) {\n      return rejectWithValue()\n  }\n});\n\nconst logOut = createAsyncThunk('auth/logout', async (_,{rejectWithValue}) => {\n  try {\n    await axios.post('/users/logout')\n    token.unset()\n  } catch (error) {\n    return rejectWithValue()\n  }\n});\n\nconst fetchUser = createAsyncThunk('auth/fetchUser', async(_, { getState, rejectWithValue}) => {\n  const state = getState();\n  const persistedToken = state.auth.token;\n  if (!persistedToken) return rejectWithValue();\n\n  token.set(persistedToken)\n  \n  try {\n    const { data } = await axios.get('/users/current');\n    return data;\n  } catch (error) {\n    return rejectWithValue()\n  }\n});\n\nexport { register, logIn, logOut, fetchUser,token };\n","export const getIsLoggedIn = state => state.auth.isLoggedIn;\n\nexport const getUserName = state => state.auth.user.name;\n\nexport const getToken = state => state.auth.token;\n\nexport const loadingFetchSelector = state => state.auth.fetchLoading;\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__GgYhE\",\"itemName\":\"UserMenu_itemName__2Q1OT\",\"span\":\"UserMenu_span__tkpOe\",\"spanOut\":\"UserMenu_spanOut__uUXcO\",\"btnText\":\"UserMenu_btnText__2CrFc\",\"btn\":\"UserMenu_btn__2H8J6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavItem\":\"NavItem_NavItem__-kKZJ\",\"iconWrapper\":\"NavItem_iconWrapper__3pZEa\",\"itemName\":\"NavItem_itemName__2FRu6\",\"span\":\"NavItem_span__2S0GZ\",\"NavItemActive\":\"NavItem_NavItemActive__1qHpU\"};","import { createPortal } from \"react-dom\";\nimport HashLoader from \"react-spinners/HashLoader\";\nimport s from \"./Loader.module.css\";\n\n\nconst loader = document.querySelector(\"#loader\");\n\nfunction Loader({loading}) {\n\n  return createPortal(\n    <div className={s.wrapLoader}>\n      <div className={s.modal}>\n        <HashLoader\n\n          height={15}\n          width={5}\n          radius={2}\n          margin={2}\n          color={\"#7814a0\"}\n          loading={loading}\n          size={80}\n        />\n      </div>\n    </div>,\n    loader\n  );\n\n}\n\nexport default Loader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapLoader\":\"Loader_wrapLoader__S6GqG\",\"modal\":\"Loader_modal__3WOv5\"};","import { createAction } from \"@reduxjs/toolkit\";\n\nexport const filterContacts = createAction(\"contacts/filter\")\n","\n// const BASE_URL = \"https://621e9d00849220b1fc9db0af.mockapi.io/api/phone/contacts\";\n\nconst BASE_URL = \"https://connections-api.herokuapp.com\";\nconst API_ENDPOINT = 'contacts';\n\nconst fetchData = async (path, options = {}) => {\n  const res = await fetch(`${BASE_URL}/${path}`, options);\n  return res.ok ? res.json() : Promise.reject(new Error(res.statusText));\n};\n\n///MOCAPI\n// const getItems = (endpoint, options) => fetchData(endpoint, options);\n\n/// 8-ма домашня\nconst getItems = (token) => {\n  const options = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n      Authorization: `Bearer ${token}`,\n    },\n  };\n  return fetchData(API_ENDPOINT, options);\n};\n\n\n\nconst saveItem = ( item,token,options = {}) => {\n  const finalOptions = {\n    method: \"POST\",\n    body: JSON.stringify(item),\n    headers: {\n      \"Content-Type\": \"application/json; charset=UTF-8\",\n      Authorization: `Bearer ${token}`\n    },\n    ...options,\n  };\n  return fetchData(API_ENDPOINT, finalOptions);\n};\n\nconst editItem = ({id,name,number}, token, options = {}) => {\n  const finalBody = {\n    name,\n    number\n  }\n  const finalOptions = {\n    method: \"PATCH\",\n    body: JSON.stringify(finalBody),\n    headers: {\n      \"Content-Type\": \"application/json; charset=UTF-8\",\n      Authorization: `Bearer ${token}`\n    },\n    ...options,\n  };\n  return fetchData(`${API_ENDPOINT}/${id}`, finalOptions);\n};\n\nconst deleteItem = (id, token, options = {}) => \n{\n  return fetchData(`${API_ENDPOINT}/${id}`, {\n    method: \"DELETE\",\n      headers: {\n      \"Content-Type\": \"application/json; charset=UTF-8\",\n      Authorization: `Bearer ${token}`\n    },  ...options\n  })};\n\nexport { getItems, saveItem,editItem, deleteItem };","import { createAsyncThunk } from '@reduxjs/toolkit';\nimport { getItems, saveItem,editItem, deleteItem } from '../../utils/api-fetch';\n\nconst getContacts = createAsyncThunk('contacts/getContactsStatus', (token) => getItems(token));\n\nconst addContact = createAsyncThunk('contact/addContactStatus', (newContact, thunkApi) => {\n\n  const state = thunkApi.getState();\n  const token = state.auth.token;\n  return saveItem(newContact,token)\n});\n\nconst editContact = createAsyncThunk('contact/editContactStatus', async(updateContact,thunkApi) => {\n  const state = thunkApi.getState();\n  const token = state.auth.token;\n  return editItem(updateContact, token)\n});\n\nconst deleteContact = createAsyncThunk('contact/deleteContactStatus', async(removeContact,thunkApi) => {\n  const state = thunkApi.getState();\n  const token = state.auth.token;\n  await deleteItem(removeContact, token)\n  return removeContact;\n  \n}\n);\nexport { getContacts,addContact,editContact,deleteContact };\n\n","export const contactsState = (state) => state.contacts.data.item;\nexport const loadingSelector = (state) => state.contacts.data.loading;\nexport const errorSelector = (state) => state.contacts.data.error;\nexport const filterPhoneBook = (state) => state.contacts.filter;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AuthNav_container__2sSIa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Navigation_container___wsPy\",\"navContainer\":\"Navigation_navContainer__3ZhiP\",\"itemName\":\"Navigation_itemName__2C2BR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"AppBar_container__3uZgi\",\"navContainer\":\"AppBar_navContainer__2O5n4\",\"itemName\":\"AppBar_itemName__2q6TW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1IksY\"};"],"sourceRoot":""}