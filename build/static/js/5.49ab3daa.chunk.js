(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[5],{291:function(t,e,n){t.exports={wrapperInput:"Input_wrapperInput__1IQKf",labelTitle:"Input_labelTitle__1kSvN",labelTitleLight:"Input_labelTitleLight__1d65f Input_labelTitle__1kSvN",labelTitleDark:"Input_labelTitleDark__7YeeD Input_labelTitle__1kSvN",input:"Input_input__2lBHS"}},292:function(t,e,n){t.exports={fontFamilyText:"ContactForm_fontFamilyText__RhnUe",form:"ContactForm_form__1fuOn",formLight:"ContactForm_formLight__lqlMy ContactForm_form__1fuOn",formDark:"ContactForm_formDark__2pfTh ContactForm_form__1fuOn",headerLight:"ContactForm_headerLight__ec622 ContactForm_fontFamilyText__RhnUe",headerDark:"ContactForm_headerDark__1NoEG ContactForm_fontFamilyText__RhnUe",headerListLight:"ContactForm_headerListLight__2JYCF ContactForm_fontFamilyText__RhnUe",headerListDark:"ContactForm_headerListDark__dS1aV ContactForm_fontFamilyText__RhnUe",btnAdd:"ContactForm_btnAdd__1TJSN ContactForm_fontFamilyText__RhnUe"}},293:function(t,e,n){t.exports={item:"ItemContact_item__13Q_8",text:"ItemContact_text__17uh3",textContainer:"ItemContact_textContainer__1XZg2",btnDel:"ItemContact_btnDel__2IseJ"}},297:function(t,e,n){t.exports={list:"ContactList_list__2T7aG"}},298:function(t,e,n){t.exports={backdrop:"Modal_backdrop__3v0tS",appear:"Modal_appear__1mmsb",modal:"Modal_modal__3q2YW",animatetop:"Modal_animatetop__2L83F","slide-in":"Modal_slide-in__1o3r5",btnClose:"Modal_btnClose__3_HdB"}},300:function(t,e,n){t.exports={common:"EditCard_common__1FLeA",container:"EditCard_container__3i2V7 EditCard_common__1FLeA",label:"EditCard_label__2QmLq EditCard_common__1FLeA",input:"EditCard_input__1nRs3",btn:"EditCard_btn__200iQ",disabled:"EditCard_disabled__1ai0G EditCard_btn__200iQ"}},310:function(t,e,n){t.exports={container:"Contacts_container__2L0E8"}},324:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return et}));var a=n(11),c=n(0),o=n(12),r=n(36),i=n(161),l=n(317),s=n(291),u=n.n(s),b=n(10),d=n(1),m=["label"],j=function(t){var e=t.label,n=Object(i.a)(t,m),a=Object(c.useRef)(Object(l.a)()).current,o=Object(c.useContext)(b.a).theme;return Object(d.jsxs)("div",{className:u.a.wrapperInput,children:[Object(d.jsxs)("label",{className:o===b.b.light?u.a.labelTitleLight:u.a.labelTitleDark,htmlFor:a,children:[e,":"]}),Object(d.jsx)("input",Object(r.a)({className:u.a.input,id:a},n))]})},_=n(38),f=n(157),h=n(292),O=n.n(h),p=function(t){var e=t.confirmContact,n=Object(c.useContext)(b.a).theme,o=Object(f.a)().t,r=Object(c.useState)(""),i=Object(a.a)(r,2),l=i[0],s=i[1],u=Object(c.useState)(""),m=Object(a.a)(u,2),h=m[0],p=m[1],x=function(t){return t.split(" ").map((function(t){var e=t.charAt(0).toUpperCase(),n=t.substring(1);return"".concat(e).concat(n)})).join(" ")},C=function(){s(""),p("")};return Object(d.jsxs)(_.a,{time:300,children:[Object(d.jsx)("h1",{className:n===b.b.light?O.a.headerLight:O.a.headerDark,children:o("contactForm.headerForm")}),Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n={name:x(l),number:h};e(n),C()},className:n===b.b.light?O.a.formLight:O.a.formDark,children:[Object(d.jsx)(j,{label:o("contactForm.name"),type:"text",name:"name",onChange:function(t){return s(t.target.value)},value:l,pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),Object(d.jsx)(j,{label:o("contactForm.number"),type:"tel",name:"number",onChange:function(t){return p(t.target.value)},value:h,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0}),Object(d.jsxs)("button",{type:"submit",className:O.a.btnAdd,children:[" ",o("contactForm.button")]})]}),Object(d.jsx)("h2",{className:n===b.b.light?O.a.headerListLight:O.a.headerListDark,children:o("contactForm.headerList")})]})},x=n(295),C=n.n(x),v=n(294),g=n.n(v),F=n(296),k=n.n(F),L=n(293),N=n.n(L),E=function(t){var e=t.onDeleteContact,n=t.onEditContact,a=t.name,c=t.number,o=t.id;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("li",{className:N.a.item,id:o,children:[Object(d.jsxs)("div",{className:N.a.textContainer,children:[Object(d.jsx)(g.a,{}),Object(d.jsxs)("strong",{className:N.a.text,children:[a,": ",c]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:N.a.btnDel,onClick:n,type:"button",children:Object(d.jsx)(C.a,{})}),Object(d.jsx)("button",{className:N.a.btnDel,onClick:e,type:"button",children:Object(d.jsx)(k.a,{})})]})]}),Object(d.jsx)("hr",{})]})},S=n(297),D=n.n(S),T=function(t){var e=t.onDeleteContact,n=t.onEditContact,a=t.openEditModal,c=t.filterContacts;return Object(d.jsx)(_.a,{time:400,children:Object(d.jsx)("ul",{className:D.a.list,children:c&&c.map((function(t){var c=t.id,o=t.name,r=t.number;return Object(d.jsx)(E,{id:c,name:o,number:r,onDeleteContact:function(){return e(c)},onEditContact:function(){return n({id:c,name:o,number:r})},openEditModal:a},c)}))})})};var y=function(t){var e=t.filterChangeInput,n=t.value,a=Object(f.a)().t;return Object(d.jsx)(_.a,{time:350,children:Object(d.jsx)(j,{label:a("filter.labelName"),type:"text",onChange:function(t){return e(t.target.value)},name:"filter",value:n})})},I=n(22),w=n(330),M=n(21),A=n(299),R=n.n(A),U=n(298),q=n.n(U),J=document.querySelector("#modal-root"),Q=function(t){var e=t.closeModal,n=t.children;Object(w.a)(!0),Object(c.useEffect)((function(){var t=function(t){"Escape"===t.code&&e()};return window.addEventListener("keydown",t),function(){window.removeEventListener("keydown",t)}}),[e]);return Object(M.createPortal)(Object(d.jsx)("div",{onClick:function(t){t.target===t.currentTarget&&e()},className:q.a.backdrop,children:Object(d.jsxs)("div",{className:q.a.modal,children:[Object(d.jsx)("button",{onClick:function(){e()},className:q.a.btnClose,children:Object(d.jsx)(R.a,{})}),n]})}),J)},z=n(300),Z=n.n(z),B=function(t){var e=t.onSubmit,n=t.activeContact,o=Object(c.useState)(n.id),r=Object(a.a)(o,2),i=r[0],l=(r[1],Object(c.useState)(n.name)),s=Object(a.a)(l,2),u=s[0],b=s[1],m=Object(c.useState)(n.number),j=Object(a.a)(m,2),_=j[0],f=j[1],h=Object(c.useRef)(null);Object(c.useEffect)((function(){h.current.focus()}),[]);var O=function(){b(""),f("")},p=!u||!_;return Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e({id:i,name:u,number:_}),O()},className:Z.a.container,children:[Object(d.jsx)("label",{className:Z.a.label,children:Object(d.jsx)("input",{ref:h,className:Z.a.input,onChange:function(t){return b(t.target.value)},value:u,type:"text"})}),Object(d.jsx)("label",{className:Z.a.label,children:Object(d.jsx)("input",{ref:h,className:Z.a.input,onChange:function(t){return f(t.target.value)},value:_,type:"text"})}),Object(d.jsx)("button",{className:p?Z.a.disabled:Z.a.btn,type:"submit",children:"Save"})]})},G=n(7),P=n(69),Y=n(17),H=n(82),V=n(301),K=(n(309),n(310)),W=n.n(K),X="none",$="edit",tt=function(){var t=Object(o.c)(Y.b.getToken),e=Object(o.c)(H.c),n=Object(o.c)(H.a),r=Object(o.c)(H.b),i=Object(o.b)(),l=Object(c.useState)(null),s=Object(a.a)(l,2),u=s[0],b=s[1],m=Object(c.useState)(null),j=Object(a.a)(m,2),_=j[0],f=j[1],h=Object(c.useState)(null),O=Object(a.a)(h,2),x=O[0],C=O[1],v=Object(c.useState)(X),g=Object(a.a)(v,2),F=g[0],k=g[1],L=Object(c.useState)(X),N=Object(a.a)(L,2),E=N[0],S=N[1],D=Object(c.useState)(!1),w=Object(a.a)(D,2),M=(w[0],w[1]),A=function(){M(!1),k(X)};Object(c.useEffect)((function(){t&&i(Object(G.d)(t))}),[i,t]);Object(c.useEffect)((function(){if(u){var e=n.some((function(t){return t.name===u.name}));e&&(V.toast.error("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0437 ".concat(u.name," \u0432\u0436\u0435 \u0456\u0441\u043d\u0443\u0454 :(("),{icon:"\u274c"}),b(null)),e&&t||(i(Object(G.a)(u)),V.toast.success("\u041a\u043e\u043d\u0442\u0430\u043a\u0442  ".concat(u.name," \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u043e \u0441\u043f\u0438\u0441\u043a\u0443 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0456\u0432 :))"),{icon:"\u2705"}),b(null))}}),[n,i,u,t]);Object(c.useEffect)((function(){if(E===$&&_){i(Object(G.c)(_)),V.toast.success("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 ".concat(_.name.toUpperCase()," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d !!")),S(X),f(null),k(X),A()}}),[E,_,i]);var R=Object(c.useMemo)((function(){var t=r.toLowerCase(),e=n&&n.filter((function(e){return e.name.toLowerCase().includes(t)}));return 0===e.length&&""!==r&&(V.toast.info('\u0423\u0441\u0456 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438 \u043f\u043e \u0437\u0430\u043f\u0438\u0442\u0443 "'.concat(r.toUpperCase(),'" \u0431\u0443\u043b\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0456 ...\u270b!!')),V.toast.warning("\u041e\u0447\u0438\u0441\u0442\u0456\u0442\u044c \u043f\u043e\u043b\u0435 \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0442\u0443, \u0449\u043e\u0431 \u043f\u043e\u0431\u0430\u0447\u0438\u0442\u0438 \u0443\u0441\u0456 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0438 :)))")),e}),[n,r]);return Object(c.useEffect)((function(){x&&(console.log(x),i(Object(G.b)(x)),V.toast.success("\u041a\u043e\u043d\u0442\u0430\u043a\u0442 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0438\u0439 \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0456\u0432 :))",{icon:"\u274e"}),C(null))}),[x,i]),Object(d.jsxs)(d.Fragment,{children:[e&&Object(d.jsx)(I.a,{loading:e}),Object(d.jsxs)("div",{className:W.a.container,children:[Object(d.jsx)(p,{confirmContact:function(t){return b(t)}}),n.length>0&&Object(d.jsx)(y,{filterChangeInput:function(t){return i(Object(P.a)(t))},value:r}),!n.length&&!e&&Object(d.jsx)("p",{children:"Please, add contact!"}),n.length?Object(d.jsx)(T,{openEditModal:function(){return M(!0)},onEditContact:function(t){f(t),k($)},filterContacts:R,onDeleteContact:function(t){return C(t)}}):"",F===$&&Object(d.jsx)(Q,{closeModal:A,children:Object(d.jsx)(B,{activeContact:_,onSubmit:function(t){if(t.name===_.name&&t.number===_.number)return k(X),void f(null);S($),f(t)}})}),Object(d.jsx)(V.ToastContainer,{theme:"dark"})]})]})},et=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(tt,{})})}}}]);
//# sourceMappingURL=5.49ab3daa.chunk.js.map