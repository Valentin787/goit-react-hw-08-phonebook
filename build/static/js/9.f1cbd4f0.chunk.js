(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[9],{218:function(e,t,a){},234:function(e,t,a){e.exports={backdrop:"Modal_backdrop__3v0tS",appear:"Modal_appear__1mmsb",modal:"Modal_modal__3q2YW",animatetop:"Modal_animatetop__2L83F","slide-in":"Modal_slide-in__1o3r5",btnClose:"Modal_btnClose__3_HdB"}},236:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(0),c=a(403),s=a(30),r=a(235),i=a.n(r),o=a(234),l=a.n(o),u=a(1),j=document.querySelector("#modal-root"),b=function(e){var t=e.closeModal,a=e.children;Object(c.a)(!0),Object(n.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(s.createPortal)(Object(u.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&t()},className:l.a.backdrop,children:Object(u.jsxs)("div",{className:l.a.modal,children:[Object(u.jsx)("button",{onClick:function(){t()},className:l.a.btnClose,children:Object(u.jsx)(i.a,{})}),a]})}),j)}},368:function(e,t,a){},375:function(e,t,a){e.exports={container:"CalendarPage_container__2k24Q"}},394:function(e,t,a){"use strict";a.r(t);var n=a(27),c=a(28),s=a(34),r=a(48),i=a(200),o=a(0),l=a.n(o),u=a(46),j=a(15),b=a(196),d=a(1),h=function(){var e=Object(o.useContext)(j.a).theme,t=Object(b.a)().t;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(u.a,{time:350,children:Object(d.jsx)("h1",{className:e===j.b.light?"lightText":"darkText",children:t("calendar.title")})})})},O=a(90),f=a(18),m=function(e){return e.events.data.item},v=function(e){return e.events.data.loading},x=(a(218),function(e){var t,a=e.selected,n=e.days,c=e.setDay,s=(e.data,Object(f.c)(m)),r=Object(o.useContext)(j.a).theme,i=a?" day-active":"",l=Object(O.a)(s);try{for(l.s();!(t=l.n()).done;){t.value.data.slice(0,2)===String(n)&&(i+=" has-events")}}catch(u){l.e(u)}finally{l.f()}return n>0?Object(d.jsx)("div",{className:"day"+i,style:r===j.b.light?{color:"black"}:{color:"white"},onClick:function(e){return c(n,e)},children:n}):Object(d.jsx)("div",{className:"day day-empty"})}),p=a(216),y=function(e){var t=e.prevYear,a=e.prevMonth,n=e.activeMonth,c=e.getYear,s=e.nextMonth,r=e.nextYear,i=e.days,l=e.resetDate,h=Object(o.useContext)(j.a).theme,O=Object(b.a)().t,f=Object(b.a)()[1].language,m=("en"===f?["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]:["\u041f\u043e\u043d","\u0412\u0456\u0432","\u0421\u0435\u0440","\u0427\u0435\u0442","\u041f'\u044f\u0442","\u0421\u0443\u0431","\u041d\u0435\u0434"]).map((function(e,t){return Object(d.jsx)("div",{className:"day",children:e},Object(p.a)())})),v=h===j.b.light?{color:"black"}:{color:"white"},x=h===j.b.light?{color:"black"}:{color:"gold"},y=h===j.b.light?{backgroundColor:"#000000aa"}:{backgroundColor:"#0000004f"};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(u.a,{time:750,children:[Object(d.jsx)("div",{className:"month",style:v,children:Object(d.jsxs)("span",{className:"month-selector",children:[Object(d.jsx)("a",{className:"prevYear",style:x,href:"#",onClick:t,children:"\xab"}),Object(d.jsx)("a",{className:"prev",style:x,href:"#",onClick:a,children:"\u140a"}),Object(d.jsxs)("span",{className:"month-active",children:[Object(d.jsx)("span",{children:function(e){return["en"===f?"January":"\u0421\u0456\u0447\u0435\u043d\u044c","en"===f?"February":"\u041b\u044e\u0442\u0438\u0439","en"===f?"March":"\u0411\u0435\u0440\u0435\u0437\u0435\u043d\u044c","en"===f?"April":"\u041a\u0432\u0456\u0442\u0435\u043d\u044c","en"===f?"May":"\u0422\u0440\u0430\u0432\u0435\u043d\u044c","en"===f?"June":"\u0427\u0435\u0440\u0432\u0435\u043d\u044c","en"===f?"July":"\u041b\u0438\u043f\u0435\u043d\u044c","en"===f?"August":"\u0421\u0435\u0440\u043f\u0435\u043d\u044c","en"===f?"September":"\u0412\u0435\u0440\u0435\u0441\u0435\u043d\u044c","en"===f?"October":"\u0416\u043e\u0432\u0442\u0435\u043d\u044c","en"===f?"November":"\u041b\u0438\u0441\u0442\u043e\u043f\u0430\u0434","en"===f?"December":"\u0413\u0440\u0443\u0434\u0435\u043d\u044c"][e]}(n)}),Object(d.jsx)("span",{style:h===j.b.light?{color:"teal"}:{color:"gold"},children:" "+c})]}),Object(d.jsx)("a",{className:"next",style:x,href:"#",onClick:s,children:"\u1405"}),Object(d.jsx)("a",{className:"nextYear",style:x,href:"#",onClick:r,children:"\xbb"})]})}),Object(d.jsx)("div",{className:"weekdays",style:v,children:m}),Object(d.jsxs)("div",{className:"days",children:[i,Object(d.jsx)("div",{className:"btn-back-wrap",children:Object(d.jsx)("button",{className:"reset",href:"#",onClick:l,style:y,children:O("calendar.buttonBackToday")})})]})]})})},g=a(6),k=a(13),D=a(17),S=(a(29),a(8)),N=a(366),C=a.n(N),M=a(367),w=a.n(M),_=a(217),Y=function(e){var t=e.data,a=Object(f.b)(),n=(Object(f.c)(v),Object(o.useContext)(j.a).theme),c=Object(o.useState)(""),s=Object(D.a)(c,2),r=s[0],i=s[1],l=Object(o.useState)(null),b=Object(D.a)(l,2),h=b[0],O=b[1],m=Object(o.useState)(!1),x=Object(D.a)(m,2),y=x[0],N=x[1],M=function(e){var t=e[0].toUpperCase(),a=e.slice(1,e.lenght);return"".concat(t).concat(a)};Object(o.useEffect)((function(){a(Object(S.d)())}),[a]);Object(o.useEffect)((function(){if(h){var e=function(){var e=Object(k.a)(Object(g.a)().mark((function e(){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,a(Object(S.a)(h)),O(null),_.toast.success("Well Done \ud83d\udcaa :))",{icon:"\u2705"}),e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();e()}}),[a,h]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(u.a,{time:750,children:[Object(d.jsx)("button",{onClick:function(){return N((function(e){return!e}))},className:"btn-add-event",children:y?Object(d.jsx)(w.a,{sx:{color:"#f44336",fontSize:"50px"}}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(C.a,{sx:{color:"#1fea66",fontSize:"50px"}})," ",Object(d.jsx)("strong",{className:n===j.b.light?"lightText":"darkText",children:"Add an event"})]})}),y&&Object(d.jsx)("form",{onSubmit:function(e){e.preventDefault();var a={name:M(r),id:Object(p.a)(),data:t,isActive:!1};O(a),i("")},children:Object(d.jsxs)("div",{className:"input-group",children:[Object(d.jsx)("input",{className:"input-main",name:"event",onChange:function(e){return i(e.target.value)},type:"text",placeholder:"New Event...",value:r}),Object(d.jsx)("button",{className:"addButton btn-main",type:"submit",children:"+"})]})})]})})},E=a(20),A=a(236),T=a(368),F=a.n(T),W=function(e){var t=e.activeElement,a=e.onSubmit,n=Object(o.useState)(t?t.id:""),c=Object(D.a)(n,2),s=c[0],r=(c[1],Object(o.useState)(t?t.name:"")),i=Object(D.a)(r,2),l=i[0],u=i[1],j=Object(o.useState)(t?t.data:""),b=Object(D.a)(j,2),h=b[0],O=(b[1],Object(o.useState)(!!t&&t.isActive)),f=Object(D.a)(O,2),m=f[0],v=(f[1],Object(o.useState)(t?t.createdAt:"")),x=Object(D.a)(v,2),p=x[0],y=(x[1],Object(o.useRef)(null));Object(o.useEffect)((function(){y.current.focus()}),[]);var g=!l;return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a({id:s,name:l,data:h,isActive:m,createdAt:p})},className:F.a.container,children:[Object(d.jsx)("label",{className:F.a.label,children:Object(d.jsx)("input",{ref:y,className:F.a.input,onChange:function(e){return u(e.target.value)},value:l,type:"text"})}),Object(d.jsx)("button",{className:g?F.a.disabled:F.a.btn,type:"submit",children:"Save"})]})},z={position:"fixed",pointerEvents:"none",width:"100%",height:"100%",top:0,left:0},J=a(369),B=a.n(J),I=a(397),L=a(374),P=a.n(L),R=a(371),V=a.n(R),q=a(372),H=a.n(q),Q=a(373),U=a.n(Q),G=(a(227),"none"),K="edit",X=function(e){var t=e.data,a=Object(f.b)(),n=Object(f.c)(m),c=Object(o.useContext)(j.a).theme,s=Object(o.useState)(null),r=Object(D.a)(s,2),i=r[0],l=r[1],b=Object(o.useState)(null),h=Object(D.a)(b,2),O=h[0],v=h[1],x=Object(o.useState)(null),p=Object(D.a)(x,2),y=p[0],g=p[1],k=Object(o.useState)(G),N=Object(D.a)(k,2),C=N[0],M=N[1],w=Object(o.useState)(!1),Y=Object(D.a)(w,2),T=Y[0],F=Y[1],J=(new Date).getDate(),L="0"!==t[0]?+t.slice(0,2):+t.slice(1,2),R=Object(o.useRef)(null),q=Object(o.useCallback)((function(e){R.current=e}),[]),Q=Object(o.useCallback)((function(e,t){R.current&&R.current(Object(E.a)(Object(E.a)({},t),{},{origin:{y:.7},particleCount:Math.floor(700*e)}))}),[]),X=Object(o.useCallback)((function(){Q(.9,{spread:26,startVelocity:55}),Q(.9,{spread:60}),Q(.95,{spread:100,decay:.91,scalar:2.8}),Q(.9,{spread:120,startVelocity:50,decay:3.92,scalar:2.2}),Q(.9,{spread:120,startVelocity:45})}),[Q]),Z=function(){return F(!1)};Object(o.useEffect)((function(){i&&(a(Object(S.e)(i)),l(null))}),[i,a]);var $=function(e){v(e),F(!0)};Object(o.useEffect)((function(){O&&C===K&&(a(Object(S.c)(O)),_.toast.success('\u0417\u0430\u0432\u0434\u0430\u043d\u043d\u044f "'.concat(O.name,'" \u0443\u0441\u043f\u0456\u0448\u043d\u043e \u0437\u043c\u0456\u043d\u0435\u043d\u0435 !!')),M(G),v(null),Z())}),[C,a,O]);return Object(o.useEffect)((function(){y&&a(Object(S.b)(y))}),[a,y]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(u.a,{time:1e3,children:[Object(d.jsxs)("div",{className:"events",children:[T&&Object(d.jsx)(A.a,{closeModal:Z,children:Object(d.jsx)(W,{activeElement:O,onSubmit:function(e){if(console.log(e),e.name===O.name)return console.log(O),_.toast.warning("IT'S the same TODO \ud83d\udc50:))"),void v(null);M(K),v(Object(E.a)(Object(E.a)({},e),{},{name:e.name}))}})}),Object(d.jsx)("ul",{children:n&&n.map((function(e){return t!==e.data?void 0:Object(d.jsxs)("li",{className:c===j.b.light?"lightText":"darkText",style:J>L?{backgroundColor:"#ebc5c594"}:{backgroundColor:"#c5ebcf94"},children:[Object(d.jsx)(I.a,{checked:e.isActive,onClick:function(){return t=e,l(Object(E.a)(Object(E.a)({},t),{},{isActive:!t.isActive})),void(t.isActive||(X(),_.toast.success("Well Done \ud83d\udc4c :))",{icon:"\u2705"})));var t},color:"success",icon:Object(d.jsx)(V.a,{}),checkedIcon:Object(d.jsx)(H.a,{}),inputProps:{"aria-label":"controlled"},sx:{"& .MuiSvgIcon-root":{fontSize:38}}}),Object(d.jsx)(B.a,{refConfetti:q,style:z}),Object(d.jsx)("strong",{children:e.name}),Object(d.jsxs)("div",{className:"correct-todo",children:[Object(d.jsx)(U.a,{onClick:function(){return $(e)},sx:{color:"#008CBA",fontSize:"30px",marginRight:"10px"}}),Object(d.jsx)(P.a,{onClick:function(){return g(e)},sx:{color:"#f44336",fontSize:"30px"}})]})]},e.id)}))})]}),Object(d.jsx)(_.ToastContainer,{theme:"dark"})]})})},Z=function(e){Object(r.a)(a,e);var t=Object(i.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).state={day:c.props.day,month:c.props.month-1,year:c.props.year,cursor:"",event:"",events:null,toggleForm:!1},c.setDay=c.setDay.bind(Object(s.a)(c)),c.setDate=c.setDate.bind(Object(s.a)(c)),c.resetDate=c.resetDate.bind(Object(s.a)(c)),c.prevMonth=c.prevMonth.bind(Object(s.a)(c)),c.nextMonth=c.nextMonth.bind(Object(s.a)(c)),c.prevYear=c.prevYear.bind(Object(s.a)(c)),c.nextYear=c.nextYear.bind(Object(s.a)(c)),c}return Object(c.a)(a,[{key:"componentWillMount",value:function(){this.setDate(this.props.day,this.props.month-1,this.state.year)}},{key:"formatDate",value:function(e,t,a){return e=e.toString().length<2?"0"+e:e,t=(t+=1).toString().length<2?"0"+t:t,"".concat(e,".").concat(t,".").concat(a)}},{key:"setDate",value:function(e,t,a,n){n&&n.preventDefault();var c=this.formatDate(e,t,a);this.setState({cursor:c})}},{key:"setDay",value:function(e,t){this.setDate(e,this.state.month,this.state.year,t)}},{key:"resetDate",value:function(e){e.preventDefault(),this.setState({year:this.props.year,month:this.props.month-1,day:this.props.day}),this.setDate(this.props.day,this.props.month-1,this.props.year)}},{key:"prevMonth",value:function(e){e.preventDefault();var t=this.state.month-1===-1?11:this.state.month-1,a=11===t?this.state.year-1:this.state.year;this.setState({year:a,month:t})}},{key:"nextMonth",value:function(e){e.preventDefault();var t=this.state.month+1===12?0:this.state.month+1,a=0===t?this.state.year+1:this.state.year;this.setState({year:a,month:t})}},{key:"prevYear",value:function(){this.setState((function(e){return{year:e.year-1}}))}},{key:"nextYear",value:function(){this.setState((function(e){return{year:e.year+1}}))}},{key:"render",value:function(){var e=this,t=new Date(this.state.year,this.state.month,1),a=0!==t.getDay()?t.getDay():7;t.setMonth(t.getMonth()+1),t.setDate(1),t.setDate(t.getDate()-1);for(var n=[],c=a-1,s=a+t.getDate()-1,r=0;r<42;++r)n[r]=r>=c&&r<s?r-a+2:"";var i=this.state.cursor.split("."),o=n.map((function(t,a){if(t){e.formatDate(t,e.state.month,e.state.year);var n=e.state.month==i[1]-1&&e.state.year==i[2],c=t==i[0]&&n;return Object(d.jsx)(x,{days:t,selected:c,setDay:e.setDay,data:e.state.cursor},Object(p.a)())}return Object(d.jsx)(x,{day:-1,data:e.state.cursor},Object(p.a)())}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(h,{}),Object(d.jsxs)("div",{className:"section-container",children:[Object(d.jsx)(u.a,{time:500,children:Object(d.jsx)("div",{className:"calendar calendar-container",style:{maxWidth:"60%"},children:Object(d.jsx)(y,{prevYear:this.prevYear,prevMonth:this.prevMonth,activeMonth:this.state.month,getYear:this.state.year,nextMonth:this.nextMonth,nextYear:this.nextYear,days:o,resetDate:this.resetDate})})}),Object(d.jsx)(u.a,{time:500,children:Object(d.jsx)("div",{className:"container-event-add",children:Object(d.jsxs)("div",{className:"event-add",children:[Object(d.jsx)(Y,{data:this.state.cursor}),Object(d.jsx)(X,{data:this.state.cursor})]})})})]})]})}}]),a}(l.a.Component),$=(a(375),new Date);t.default=function(){return Object(d.jsx)("div",{className:"",children:Object(d.jsx)(Z,{year:$.getFullYear(),month:$.getMonth()+1,day:$.getDate()})})}}}]);
//# sourceMappingURL=9.f1cbd4f0.chunk.js.map