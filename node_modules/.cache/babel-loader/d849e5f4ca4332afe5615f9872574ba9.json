{"ast":null,"code":"import _slicedToArray from\"/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState,lazy,Suspense}from'react';import{useDispatch,useSelector}from'react-redux';import{Routes,Route}from\"react-router-dom\";import{ThemeContext,themes}from\"../context/themeContext\";import AppBar from'components/AppBar';import PrivateRoute from'components/UserMenu/PrivateRoute';import PublicRoute from'components/UserMenu/PublicRoute';import LanguageSwitcher from'components/LanguageSwitcher/LanguageSwitcher';import Loader from'../common/Loader';import HomePage from'pages/HomePage';import{loadingSelector}from'../../redux/phoneBook/phonebook-selectors';import{authSelectors,authOperations}from'../../redux/auth';import s from'./App.module.css';import ThemeSwitcher from'components/ThemeSwitcher/ThemeSwitcher';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SingInPageLazy=/*#__PURE__*/lazy(function(){return import('../../pages/auth/SingInPage');});var RegisterLazy=/*#__PURE__*/lazy(function(){return import('../../pages/auth/Register');});var ContactsPageLazy=/*#__PURE__*/lazy(function(){return import('../../pages/ContactsPage');});var NotFoundPageLazy=/*#__PURE__*/lazy(function(){return import('../../pages/NotFoundPage');});var App=function App(){var _useState=useState(themes.light),_useState2=_slicedToArray(_useState,2),theme=_useState2[0],setTheme=_useState2[1];var toggleTheme=function toggleTheme(){return setTheme(function(prevTheme){return prevTheme===themes.light?themes.dark:themes.light;});};var loading=useSelector(loadingSelector);var fetchloading=useSelector(authSelectors.loadingFetchSelector);var dispatch=useDispatch();//GET_CURRENT_USER\nuseEffect(function(){dispatch(authOperations.fetchUser());},[dispatch]);return/*#__PURE__*/_jsx(\"div\",{className:theme===themes.light?s.appLight:s.appDark,children:/*#__PURE__*/_jsxs(ThemeContext.Provider,{value:{theme:theme,toggleTheme:toggleTheme},children:[loading&&/*#__PURE__*/_jsx(Loader,{loading:loading}),!fetchloading&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AppBar,{}),/*#__PURE__*/_jsxs(\"div\",{className:s.themeWrap,children:[/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loader,{}),children:/*#__PURE__*/_jsx(LanguageSwitcher,{})}),/*#__PURE__*/_jsx(ThemeSwitcher,{})]}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loader,{}),children:/*#__PURE__*/_jsx(HomePage,{})})}),/*#__PURE__*/_jsxs(Route,{element:/*#__PURE__*/_jsx(PublicRoute,{}),children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/register\",element:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loader,{}),children:/*#__PURE__*/_jsx(RegisterLazy,{})})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/sing_in\",element:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loader,{}),children:/*#__PURE__*/_jsx(SingInPageLazy,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loader,{}),children:/*#__PURE__*/_jsx(NotFoundPageLazy,{})})})]}),/*#__PURE__*/_jsx(Route,{element:/*#__PURE__*/_jsx(PrivateRoute,{}),children:/*#__PURE__*/_jsx(Route,{path:\"/phonebook\",element:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loader,{}),children:/*#__PURE__*/_jsx(ContactsPageLazy,{})})})})]})]})]})});};export default App;","map":{"version":3,"names":["useEffect","useState","lazy","Suspense","useDispatch","useSelector","Routes","Route","ThemeContext","themes","AppBar","PrivateRoute","PublicRoute","LanguageSwitcher","Loader","HomePage","loadingSelector","authSelectors","authOperations","s","ThemeSwitcher","SingInPageLazy","RegisterLazy","ContactsPageLazy","NotFoundPageLazy","App","light","theme","setTheme","toggleTheme","prevTheme","dark","loading","fetchloading","loadingFetchSelector","dispatch","fetchUser","appLight","appDark","themeWrap"],"sources":["/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-08-phonebook/src/components/App/App.jsx"],"sourcesContent":["import { useEffect,useState,lazy, Suspense} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Routes, Route } from \"react-router-dom\";\nimport { ThemeContext, themes } from \"../context/themeContext\";\n\nimport AppBar from 'components/AppBar';\nimport PrivateRoute from 'components/UserMenu/PrivateRoute';\nimport PublicRoute from 'components/UserMenu/PublicRoute';\nimport LanguageSwitcher from 'components/LanguageSwitcher/LanguageSwitcher';\nimport Loader from '../common/Loader';\nimport HomePage  from 'pages/HomePage';\n\nimport { loadingSelector } from '../../redux/phoneBook/phonebook-selectors';\nimport { authSelectors, authOperations } from '../../redux/auth';\n\nimport s from './App.module.css';\nimport ThemeSwitcher from 'components/ThemeSwitcher/ThemeSwitcher';\n\nconst SingInPageLazy = lazy(() => import('../../pages/auth/SingInPage'));\nconst RegisterLazy = lazy(() => import('../../pages/auth/Register'));\nconst ContactsPageLazy = lazy(() => import('../../pages/ContactsPage'));\nconst NotFoundPageLazy = lazy(() => import('../../pages/NotFoundPage'));\n\n\nconst App = () => {\n\n  const [theme, setTheme] = useState(themes.light);\n  const toggleTheme = () =>\n    setTheme((prevTheme) =>\n      prevTheme === themes.light ? themes.dark : themes.light\n    );\n\n  const loading = useSelector(loadingSelector);\n  const fetchloading = useSelector(authSelectors.loadingFetchSelector);\n\n  const dispatch = useDispatch();\n\n\n  //GET_CURRENT_USER\n\n  useEffect(() => {\n    \n    dispatch(authOperations.fetchUser())  \n    \n  }, [dispatch])\n  \n  return (\n    <div className={theme === themes.light ? s.appLight : s.appDark}>\n\n      <ThemeContext.Provider value={{ theme, toggleTheme }}>\n\n{loading && <Loader loading={loading} />}\n      \n      {!fetchloading &&\n        <>\n          <AppBar />\n          <div className={s.themeWrap}>\n           \n            <Suspense fallback={<Loader />}>\n              <LanguageSwitcher />\n            </Suspense>\n             <ThemeSwitcher />\n          </div>\n\n        \n          <Routes>\n\n            <Route\n              exact\n              path=\"/\"\n            element={\n              <Suspense fallback={<Loader />}>\n                <HomePage />\n              </Suspense>}>\n            </Route>\n            {/* //////////////////////// */}\n            <Route element={\n              <PublicRoute />}>\n\n              <Route\n                exact\n                path=\"/register\"\n                element={\n                  <Suspense fallback={<Loader />}>\n                    <RegisterLazy />\n                  </Suspense>}\n              />\n\n              <Route\n                exact\n                path=\"/sing_in\"\n                element={\n                  <Suspense fallback={<Loader />}>\n                    <SingInPageLazy />\n                  </Suspense>}\n            />\n              <Route\n                path=\"*\"\n                element={\n                  <Suspense fallback={<Loader/>}>\n                    <NotFoundPageLazy />\n                  </Suspense>\n                }\n              />\n          </Route>\n          \n\n          \n            {/* //////////////////////// */}\n            <Route element={<PrivateRoute />}>\n              <Route\n                path=\"/phonebook\"\n                element={\n                  <Suspense fallback={<Loader />}>\n                    <ContactsPageLazy />\n                  </Suspense>}\n              />\n          </Route>\n\n          </Routes>\n          </>}\n        </ThemeContext.Provider>\n  </div>\n  );\n};\n\nexport default App;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}