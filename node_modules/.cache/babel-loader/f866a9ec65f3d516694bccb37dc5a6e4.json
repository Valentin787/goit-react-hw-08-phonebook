{"ast":null,"code":"var _jsxFileName = \"/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-08-phonebook/src/components/DateCalendar/CalendarForm/CalendarForm.jsx\",\n    _s = $RefreshSig$();\n\nimport { useContext, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Loader from 'components/common/Loader';\nimport Appear from 'components/Appear';\nimport { ThemeContext, themes } from 'components/context/themeContext';\nimport { getEvents, addEvent } from 'redux/event/eventOperation';\nimport { loadingSelector } from 'redux/event/eventsSelectors';\nimport AddBoxIcon from '@mui/icons-material/AddBox';\nimport DisabledByDefaultRoundedIcon from '@mui/icons-material/DisabledByDefaultRounded';\nimport { nanoid } from 'nanoid';\nimport { toast } from 'react-toastify/dist/react-toastify';\nimport '../DateCalendar.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CalendarForm = _ref => {\n  _s();\n\n  let {\n    data\n  } = _ref;\n  const dispatch = useDispatch();\n  const loading = useSelector(loadingSelector);\n  const {\n    theme\n  } = useContext(ThemeContext);\n  const [eventName, setEventName] = useState(\"\");\n  const [newEvent, setNewEvent] = useState(null);\n  const [toggleForm, setToggleForm] = useState(false); //ADAPTED_NAME\n\n  const normalizeName = name => {\n    const firstUpCaseLetter = name[0].toUpperCase();\n    const anoterLetter = name.slice(1, name.lenght);\n    return `${firstUpCaseLetter}${anoterLetter}`;\n  }; //GET_EVENTS\n\n\n  useEffect(() => {\n    dispatch(getEvents());\n  }, [dispatch]); //ADD_NEW_EVENT\n\n  const confirmContact = event => setNewEvent(event);\n\n  useEffect(() => {\n    if (!newEvent) return;\n\n    const addEventFunc = async () => {\n      try {\n        dispatch(addEvent(newEvent));\n        setNewEvent(null);\n        toast.success(`Well Done ðŸ’ª :))`, {\n          icon: `âœ…`\n        });\n      } catch (error) {\n        return error.message;\n      }\n    };\n\n    addEventFunc();\n  }, [dispatch, newEvent]); //SUBMIT_FORM\n\n  const onSubFormData = e => {\n    e.preventDefault();\n    const objEvent = {\n      name: normalizeName(eventName),\n      id: nanoid(),\n      data,\n      isActive: false\n    };\n    confirmContact(objEvent);\n    setEventName(\"\");\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Appear, {\n      time: 750,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setToggleForm(prev => !prev),\n        className: \"btn-add-event\",\n        children: !toggleForm ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(AddBoxIcon, {\n            sx: {\n              color: \"#0b856c\",\n              fontSize: \"50px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            className: theme === themes.light ? \"lightText\" : \"darkText\",\n            children: \"Add an event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(DisabledByDefaultRoundedIcon, {\n          sx: {\n            color: \"#f44336\",\n            fontSize: \"50px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), toggleForm && /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubFormData,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input-main\",\n            name: \"event\",\n            onChange: e => setEventName(e.target.value),\n            type: \"text\",\n            placeholder: \"New Event...\",\n            value: eventName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"addButton btn-main\",\n            type: \"submit\",\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(CalendarForm, \"7mO/5KaQrzzQa3k8ldOfPrJMoVM=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = CalendarForm;\nCalendarForm.propTypes = {\n  data: PropTypes.string\n};\nexport default CalendarForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"CalendarForm\");","map":{"version":3,"names":["useContext","useEffect","useState","useDispatch","useSelector","PropTypes","Loader","Appear","ThemeContext","themes","getEvents","addEvent","loadingSelector","AddBoxIcon","DisabledByDefaultRoundedIcon","nanoid","toast","CalendarForm","data","dispatch","loading","theme","eventName","setEventName","newEvent","setNewEvent","toggleForm","setToggleForm","normalizeName","name","firstUpCaseLetter","toUpperCase","anoterLetter","slice","lenght","confirmContact","event","addEventFunc","success","icon","error","message","onSubFormData","e","preventDefault","objEvent","id","isActive","prev","color","fontSize","light","target","value","propTypes","string"],"sources":["/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-08-phonebook/src/components/DateCalendar/CalendarForm/CalendarForm.jsx"],"sourcesContent":["import { useContext, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Loader from 'components/common/Loader';\nimport Appear from 'components/Appear';\nimport { ThemeContext, themes } from 'components/context/themeContext';\nimport { getEvents, addEvent } from 'redux/event/eventOperation';\nimport {loadingSelector } from 'redux/event/eventsSelectors';\nimport AddBoxIcon from '@mui/icons-material/AddBox';\nimport DisabledByDefaultRoundedIcon from '@mui/icons-material/DisabledByDefaultRounded';\n\nimport { nanoid } from 'nanoid';\nimport { toast } from 'react-toastify/dist/react-toastify';\nimport '../DateCalendar.scss';\n\n\n\n\n\n  \nconst CalendarForm = ({ data }) => {\n\n\n  const dispatch = useDispatch();\n  const loading = useSelector(loadingSelector);\n  const { theme } = useContext(ThemeContext);\n\n  const [eventName, setEventName] = useState(\"\");\n  const [newEvent, setNewEvent] = useState(null);\n  const [toggleForm, setToggleForm] = useState(false);\n\n\n  \n//ADAPTED_NAME\n  const normalizeName = name => {\n    const firstUpCaseLetter = name[0].toUpperCase();\n    const anoterLetter = name.slice(1, name.lenght);\n    return `${firstUpCaseLetter}${anoterLetter}`;\n  }\n  \n//GET_EVENTS\n  \n  useEffect(() => {\n    dispatch(getEvents())\n  \n  }, [dispatch])\n\n  \n  \n//ADD_NEW_EVENT\n  const confirmContact = (event) => setNewEvent(event)\n\n  useEffect(() => {\n    if (!newEvent) return;\n\n    const addEventFunc = async () => {\n      try {\n        dispatch(addEvent(newEvent));\n        setNewEvent(null);\n        toast.success(`Well Done ðŸ’ª :))`, {\n        icon: `âœ…`\n    });\n      } catch (error) {\n        return error.message\n      }\n    }\n\n    addEventFunc()\n\n  }, [dispatch, newEvent])\n  \n    \n//SUBMIT_FORM\n  const onSubFormData = e => {\n    e.preventDefault();\n\n    const objEvent = {\n      name:normalizeName(eventName),\n      id: nanoid(),\n      data,\n      isActive: false,\n    };\n \n    confirmContact(objEvent);\n    setEventName(\"\");\n  };\n\n  return (\n    <>\n      {/* {loading && <Loader loading={loading} />}  */}\n      <Appear time={750} >\n        <button\n          onClick={() => setToggleForm(prev => !prev)}\n          className=\"btn-add-event\"\n        >\n          {!toggleForm ?\n            <>\n            <AddBoxIcon\n            sx={{\n                color: \"#0b856c\",\n                fontSize: \"50px\"\n              }}\n              /> <strong\n                className={theme === themes.light ? \"lightText\" : \"darkText\"}\n              >Add an event</strong>\n            </>:\n          <DisabledByDefaultRoundedIcon\n            sx={{\n            color: \"#f44336\",      \n            fontSize: \"50px\"}}\n          />} \n      </button>\n      {toggleForm && <form onSubmit={onSubFormData}>\n          <div className=\"input-group\">\n            <input\n              className=\"input-main\"\n              name='event'\n              onChange={e => setEventName(e.target.value)}\n              type=\"text\"\n              placeholder=\"New Event...\"\n              value={eventName}\n            >\n            </input>\n            <button\n              className=\"addButton btn-main\"\n              type=\"submit\"\n            >\n              +\n            </button>\n          </div>\n        </form>}\n        </Appear>\n\n      \n    </>\n\n  )\n}\n\nCalendarForm.propTypes = {\n  data: PropTypes.string,\n}\n\nexport default CalendarForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}