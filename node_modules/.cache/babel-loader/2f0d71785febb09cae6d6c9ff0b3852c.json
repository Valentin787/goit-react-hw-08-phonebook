{"ast":null,"code":"import{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{lazy,Suspense}from'react';import{Routes,Route}from\"react-router-dom\";import AppBar from'components/AppBar';import HomePage from'pages/HomePage';import Loader from'../common/Loader';import PrivateRoute from'components/UserMenu/PrivateRoute';import PublicRoute from'components/UserMenu/PublicRoute';import{loadingSelector}from'../../redux/phoneBook/phonebook-selectors';import{authSelectors,authOperations}from'../../redux/auth';import s from'./App.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SingInPageLazy=/*#__PURE__*/lazy(function(){return import('../../pages/auth/SingInPage');});var RegisterLazy=/*#__PURE__*/lazy(function(){return import('../../pages/auth/Register');});var ContactsPageLazy=/*#__PURE__*/lazy(function(){return import('../../pages/ContactsPage');});var NotFoundPageLazy=/*#__PURE__*/lazy(function(){return import('../../pages/NotFoundPage');});var App=function App(){var loading=useSelector(loadingSelector);var fetchloading=useSelector(authSelectors.loadingFetchSelector);var dispatch=useDispatch();//GET_CURRENT_USER\nuseEffect(function(){dispatch(authOperations.fetchUser());},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{className:s.app,children:[loading&&/*#__PURE__*/_jsx(Loader,{loading:loading}),!fetchloading&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AppBar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsxs(Route,{element:/*#__PURE__*/_jsx(PublicRoute,{}),children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/register\",element:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loader,{}),children:/*#__PURE__*/_jsx(RegisterLazy,{})})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/sing_in\",element:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loader,{}),children:/*#__PURE__*/_jsx(SingInPageLazy,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loader,{}),children:/*#__PURE__*/_jsx(NotFoundPageLazy,{})})})]}),/*#__PURE__*/_jsx(Route,{element:/*#__PURE__*/_jsx(PrivateRoute,{}),children:/*#__PURE__*/_jsx(Route,{path:\"/phonebook\",element:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loader,{}),children:/*#__PURE__*/_jsx(ContactsPageLazy,{})})})})]})]})]});};export default App;","map":{"version":3,"names":["useEffect","useDispatch","useSelector","lazy","Suspense","Routes","Route","AppBar","HomePage","Loader","PrivateRoute","PublicRoute","loadingSelector","authSelectors","authOperations","s","SingInPageLazy","RegisterLazy","ContactsPageLazy","NotFoundPageLazy","App","loading","fetchloading","loadingFetchSelector","dispatch","fetchUser","app"],"sources":["/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-08-phonebook/src/components/App/App.jsx"],"sourcesContent":["import { useEffect} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { lazy, Suspense } from 'react';\nimport { Routes, Route } from \"react-router-dom\";\n\nimport  AppBar  from 'components/AppBar';\nimport  HomePage  from 'pages/HomePage';\nimport Loader from '../common/Loader';\n\nimport PrivateRoute from 'components/UserMenu/PrivateRoute';\nimport PublicRoute from 'components/UserMenu/PublicRoute';\n\nimport { loadingSelector } from '../../redux/phoneBook/phonebook-selectors';\nimport { authSelectors, authOperations } from '../../redux/auth';\n\n\nimport s from './App.module.css';\n\n\n\nconst SingInPageLazy = lazy(() => import('../../pages/auth/SingInPage'));\nconst RegisterLazy = lazy(() => import('../../pages/auth/Register'));\nconst ContactsPageLazy = lazy(() => import('../../pages/ContactsPage'));\nconst NotFoundPageLazy = lazy(() => import('../../pages/NotFoundPage'));\n\n\nconst App = () => {\n\n  const loading = useSelector(loadingSelector);\n  const fetchloading = useSelector(authSelectors.loadingFetchSelector);\n\n  const dispatch = useDispatch();\n\n\n  //GET_CURRENT_USER\n\n  useEffect(() => {\n    \n    dispatch(authOperations.fetchUser())  \n    \n  }, [dispatch])\n  \n  return (\n    <div className={s.app}>\n{loading && <Loader loading={loading} />}\n      \n      {!fetchloading &&\n        <>\n          <AppBar />\n          <Routes>\n\n            <Route\n              exact\n              path=\"/\"\n              element={<HomePage />}>\n            </Route>\n            {/* //////////////////////// */}\n            <Route element={\n              <PublicRoute />}>\n\n              <Route\n                exact\n                path=\"/register\"\n                element={\n                  <Suspense fallback={<Loader />}>\n                    <RegisterLazy />\n                  </Suspense>}\n              />\n\n              <Route\n                exact\n                path=\"/sing_in\"\n                element={\n                  <Suspense fallback={<Loader />}>\n                    <SingInPageLazy />\n                  </Suspense>}\n            />\n              <Route\n                path=\"*\"\n                element={\n                  <Suspense fallback={<Loader/>}>\n                    <NotFoundPageLazy />\n                  </Suspense>\n                }\n              />\n          </Route>\n          \n\n          \n            {/* //////////////////////// */}\n            <Route element={<PrivateRoute />}>\n              <Route\n                path=\"/phonebook\"\n                element={\n                  <Suspense fallback={<Loader />}>\n                    <ContactsPageLazy />\n                  </Suspense>}\n              />\n          </Route>\n\n          </Routes>\n        </>}\n  </div>\n  );\n};\n\nexport default App;\n\n\n"],"mappings":"AAAA,OAASA,SAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,IAAT,CAAeC,QAAf,KAA+B,OAA/B,CACA,OAASC,MAAT,CAAiBC,KAAjB,KAA8B,kBAA9B,CAEA,MAAQC,OAAR,KAAqB,mBAArB,CACA,MAAQC,SAAR,KAAuB,gBAAvB,CACA,MAAOC,OAAP,KAAmB,kBAAnB,CAEA,MAAOC,aAAP,KAAyB,kCAAzB,CACA,MAAOC,YAAP,KAAwB,iCAAxB,CAEA,OAASC,eAAT,KAAgC,2CAAhC,CACA,OAASC,aAAT,CAAwBC,cAAxB,KAA8C,kBAA9C,CAGA,MAAOC,EAAP,KAAc,kBAAd,C,6IAIA,GAAMC,eAAc,cAAGb,IAAI,CAAC,iBAAM,QAAO,6BAAP,CAAN,EAAD,CAA3B,CACA,GAAMc,aAAY,cAAGd,IAAI,CAAC,iBAAM,QAAO,2BAAP,CAAN,EAAD,CAAzB,CACA,GAAMe,iBAAgB,cAAGf,IAAI,CAAC,iBAAM,QAAO,0BAAP,CAAN,EAAD,CAA7B,CACA,GAAMgB,iBAAgB,cAAGhB,IAAI,CAAC,iBAAM,QAAO,0BAAP,CAAN,EAAD,CAA7B,CAGA,GAAMiB,IAAG,CAAG,QAANA,IAAM,EAAM,CAEhB,GAAMC,QAAO,CAAGnB,WAAW,CAACU,eAAD,CAA3B,CACA,GAAMU,aAAY,CAAGpB,WAAW,CAACW,aAAa,CAACU,oBAAf,CAAhC,CAEA,GAAMC,SAAQ,CAAGvB,WAAW,EAA5B,CAGA;AAEAD,SAAS,CAAC,UAAM,CAEdwB,QAAQ,CAACV,cAAc,CAACW,SAAf,EAAD,CAAR,CAED,CAJQ,CAIN,CAACD,QAAD,CAJM,CAAT,CAMA,mBACE,aAAK,SAAS,CAAET,CAAC,CAACW,GAAlB,WACHL,OAAO,eAAI,KAAC,MAAD,EAAQ,OAAO,CAAEA,OAAjB,EADR,CAGG,CAACC,YAAD,eACC,wCACE,KAAC,MAAD,IADF,cAEE,MAAC,MAAD,yBAEE,KAAC,KAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,GAFP,CAGE,OAAO,cAAE,KAAC,QAAD,IAHX,EAFF,cAQE,MAAC,KAAD,EAAO,OAAO,cACZ,KAAC,WAAD,IADF,wBAGE,KAAC,KAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,WAFP,CAGE,OAAO,cACL,KAAC,QAAD,EAAU,QAAQ,cAAE,KAAC,MAAD,IAApB,uBACE,KAAC,YAAD,IADF,EAJJ,EAHF,cAYE,KAAC,KAAD,EACE,KAAK,KADP,CAEE,IAAI,CAAC,UAFP,CAGE,OAAO,cACL,KAAC,QAAD,EAAU,QAAQ,cAAE,KAAC,MAAD,IAApB,uBACE,KAAC,cAAD,IADF,EAJJ,EAZF,cAoBE,KAAC,KAAD,EACE,IAAI,CAAC,GADP,CAEE,OAAO,cACL,KAAC,QAAD,EAAU,QAAQ,cAAE,KAAC,MAAD,IAApB,uBACE,KAAC,gBAAD,IADF,EAHJ,EApBF,GARF,cAyCE,KAAC,KAAD,EAAO,OAAO,cAAE,KAAC,YAAD,IAAhB,uBACE,KAAC,KAAD,EACE,IAAI,CAAC,YADP,CAEE,OAAO,cACL,KAAC,QAAD,EAAU,QAAQ,cAAE,KAAC,MAAD,IAApB,uBACE,KAAC,gBAAD,IADF,EAHJ,EADF,EAzCF,GAFF,GAJJ,GADF,CA8DD,CA9ED,CAgFA,cAAeF,IAAf"},"metadata":{},"sourceType":"module"}