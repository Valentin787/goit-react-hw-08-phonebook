{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { register, logIn, logOut, fetchUser } from './authOperations';\nconst initialState = {\n  user: {\n    name: null,\n    email: null\n  },\n  token: null,\n  isLoggedIn: false,\n  fetchLoading: false,\n  error: null\n};\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder //REGISTER\n    .addCase(register.pending, state => {\n      state.error = null;\n      state.isLoggedIn = false;\n    }).addCase(register.fulfilled, (state, _ref) => {\n      let {\n        payload\n      } = _ref;\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLoggedIn = true;\n      state.error = null;\n    }).addCase(register.rejected, (state, _ref2) => {\n      let {\n        payload\n      } = _ref2;\n      state.error = payload;\n    }) //LOG_IN\n    .addCase(logIn.pending, state => {\n      state.error = null;\n      state.isLoggedIn = false;\n    }).addCase(logIn.fulfilled, (state, _ref3) => {\n      let {\n        payload\n      } = _ref3;\n      state.user = payload.user;\n      state.token = payload.token;\n      state.isLoggedIn = true;\n      state.error = null;\n    }).addCase(logIn.rejected, (state, _ref4) => {\n      let {\n        payload\n      } = _ref4;\n      state.error = payload;\n    }) //LOG_OUT\n    .addCase(logOut.pending, state => {\n      state.error = null;\n      state.isLoggedIn = false;\n    }).addCase(logOut.fulfilled, state => {\n      state.user = {\n        name: null,\n        email: null\n      };\n      state.token = null;\n      state.isLoggedIn = false;\n      state.error = null;\n    }).addCase(logOut.rejected, (state, _ref5) => {\n      let {\n        payload\n      } = _ref5;\n      state.error = payload;\n    }) //GET_CURRENT_USER\n    .addCase(fetchUser.pending, state => {\n      state.fetchLoading = true;\n      state.error = null;\n      state.isLoggedIn = false;\n    }).addCase(fetchUser.fulfilled, (state, _ref6) => {\n      let {\n        payload\n      } = _ref6;\n      state.user = payload;\n      state.isLoggedIn = true;\n      state.fetchLoading = false;\n      state.error = null;\n    }).addCase(fetchUser.rejected, (state, _ref7) => {\n      let {\n        payload\n      } = _ref7;\n      state.fetchLoading = false;\n      state.error = payload;\n    });\n  }\n});\nexport default authSlice.reducer;","map":{"version":3,"names":["createSlice","register","logIn","logOut","fetchUser","initialState","user","name","email","token","isLoggedIn","fetchLoading","error","authSlice","reducers","extraReducers","builder","addCase","pending","state","fulfilled","payload","rejected","reducer"],"sources":["/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-08-phonebook/src/redux/auth/authSlice.js"],"sourcesContent":["import { createSlice }  from \"@reduxjs/toolkit\";\nimport { register,logIn, logOut,fetchUser } from './authOperations';\n\n\nconst initialState = {\n  user: { name: null, email: null },\n\n  token: null,\n  isLoggedIn: false,\n\n  fetchLoading: false,\n  \n  error: null,\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder\n      //REGISTER\n      .addCase(register.pending, (state) => {\n        state.error = null;\n        state.isLoggedIn = false;\n      })\n      .addCase(register.fulfilled, (state, { payload }) => {\n        state.user = payload.user;\n        state.token = payload.token;\n        state.isLoggedIn = true;\n        state.error = null;\n      })\n      .addCase(register.rejected, (state, { payload }) => {\n        state.error = payload;\n\n      })\n\n      //LOG_IN\n      .addCase(logIn.pending, (state) => {\n        state.error = null;\n        state.isLoggedIn = false;\n      })\n      .addCase(logIn.fulfilled, (state, { payload }) => {\n        state.user = payload.user;\n        state.token = payload.token;\n        state.isLoggedIn = true;\n        state.error = null;\n      })\n      .addCase(logIn.rejected, (state, { payload }) => {\n        state.error = payload;\n\n      })\n      //LOG_OUT\n      .addCase(logOut.pending, (state) => {\n        state.error = null;\n        state.isLoggedIn = false;\n      })\n      .addCase(logOut.fulfilled, (state) => {\n\n        state.user = { name: null, email: null };\n        state.token = null;\n        state.isLoggedIn = false;\n        state.error = null;\n      })\n      .addCase(logOut.rejected, (state, { payload }) => {\n        state.error = payload;\n\n      })\n      //GET_CURRENT_USER\n      .addCase(fetchUser.pending, (state) => {\n        state.fetchLoading = true;\n        state.error = null;\n        state.isLoggedIn = false;\n      })\n      .addCase(fetchUser.fulfilled, (state, { payload }) => {\n        state.user = payload;\n        state.isLoggedIn = true;\n        state.fetchLoading = false;\n        state.error = null;\n      })\n      .addCase(fetchUser.rejected, (state, { payload }) => {\n        state.fetchLoading = false;\n        state.error = payload;\n\n      })\n  }\n})\n\n\nexport default authSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}