{"ast":null,"code":"import _regeneratorRuntime from\"/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import Loader from'components/common/Loader';import Appear from'components/Appear';import{ThemeContext,themes}from'components/context/themeContext';import{getEvents,addEvent}from'redux/event/eventOperation';import{loadingSelector}from'redux/event/eventsSelectors';import AddBoxIcon from'@mui/icons-material/AddBox';import DisabledByDefaultRoundedIcon from'@mui/icons-material/DisabledByDefaultRounded';import{nanoid}from'nanoid';import{toast}from'react-toastify/dist/react-toastify';import'../DateCalendar.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CalendarForm=function CalendarForm(_ref){var data=_ref.data;var dispatch=useDispatch();var loading=useSelector(loadingSelector);var _useContext=useContext(ThemeContext),theme=_useContext.theme;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),eventName=_useState2[0],setEventName=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),newEvent=_useState4[0],setNewEvent=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),toggleForm=_useState6[0],setToggleForm=_useState6[1];//ADAPTED_NAME\nvar normalizeName=function normalizeName(name){var firstUpCaseLetter=name[0].toUpperCase();var anoterLetter=name.slice(1,name.lenght);return\"\".concat(firstUpCaseLetter).concat(anoterLetter);};//GET_EVENTS\nuseEffect(function(){dispatch(getEvents());},[dispatch]);//ADD_NEW_EVENT\nvar confirmContact=function confirmContact(event){return setNewEvent(event);};useEffect(function(){if(!newEvent)return;var addEventFunc=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch(addEvent(newEvent));setNewEvent(null);toast.success(\"Well Done \\uD83D\\uDCAA :))\",{icon:\"\\u2705\"});_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",_context.t0.message);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function addEventFunc(){return _ref2.apply(this,arguments);};}();addEventFunc();},[dispatch,newEvent]);//SUBMIT_FORM\nvar onSubFormData=function onSubFormData(e){e.preventDefault();var objEvent={name:normalizeName(eventName),id:nanoid(),data:data,isActive:false};confirmContact(objEvent);setEventName(\"\");};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Appear,{time:750,children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setToggleForm(function(prev){return!prev;});},className:\"btn-add-event\",children:!toggleForm?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AddBoxIcon,{sx:{color:\"#1fea66\",fontSize:\"50px\"}}),\" \",/*#__PURE__*/_jsx(\"strong\",{className:theme===themes.light?\"lightText\":\"darkText\",children:\"Add an event\"})]}):/*#__PURE__*/_jsx(DisabledByDefaultRoundedIcon,{sx:{color:\"#f44336\",fontSize:\"50px\"}})}),toggleForm&&/*#__PURE__*/_jsx(\"form\",{onSubmit:onSubFormData,children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input-main\",name:\"event\",onChange:function onChange(e){return setEventName(e.target.value);},type:\"text\",placeholder:\"New Event...\",value:eventName}),/*#__PURE__*/_jsx(\"button\",{className:\"addButton btn-main\",type:\"submit\",children:\"+\"})]})})]})});};export default CalendarForm;","map":{"version":3,"names":["useContext","useEffect","useState","useDispatch","useSelector","Loader","Appear","ThemeContext","themes","getEvents","addEvent","loadingSelector","AddBoxIcon","DisabledByDefaultRoundedIcon","nanoid","toast","CalendarForm","data","dispatch","loading","theme","eventName","setEventName","newEvent","setNewEvent","toggleForm","setToggleForm","normalizeName","name","firstUpCaseLetter","toUpperCase","anoterLetter","slice","lenght","confirmContact","event","addEventFunc","success","icon","message","onSubFormData","e","preventDefault","objEvent","id","isActive","prev","color","fontSize","light","target","value"],"sources":["/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-08-phonebook/src/components/DateCalendar/CalendarForm/CalendarForm.jsx"],"sourcesContent":["import { useContext, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Loader from 'components/common/Loader';\nimport Appear from 'components/Appear';\nimport { ThemeContext, themes } from 'components/context/themeContext';\nimport { getEvents, addEvent } from 'redux/event/eventOperation';\nimport {loadingSelector } from 'redux/event/eventsSelectors';\nimport AddBoxIcon from '@mui/icons-material/AddBox';\nimport DisabledByDefaultRoundedIcon from '@mui/icons-material/DisabledByDefaultRounded';\n\nimport { nanoid } from 'nanoid';\nimport { toast } from 'react-toastify/dist/react-toastify';\nimport '../DateCalendar.scss';\n\n\n\n\n\n  \nconst CalendarForm = ({ data }) => {\n\n\n  const dispatch = useDispatch();\n  const loading = useSelector(loadingSelector);\n  const { theme } = useContext(ThemeContext);\n\n  const [eventName, setEventName] = useState(\"\");\n  const [newEvent, setNewEvent] = useState(null);\n  const [toggleForm, setToggleForm] = useState(false);\n\n\n  \n//ADAPTED_NAME\n  const normalizeName = name => {\n    const firstUpCaseLetter = name[0].toUpperCase();\n    const anoterLetter = name.slice(1, name.lenght);\n    return `${firstUpCaseLetter}${anoterLetter}`;\n  }\n  \n//GET_EVENTS\n  \n  useEffect(() => {\n    dispatch(getEvents())\n  \n  }, [dispatch])\n\n  \n  \n//ADD_NEW_EVENT\n  const confirmContact = (event) => setNewEvent(event)\n\n  useEffect(() => {\n    if (!newEvent) return;\n\n    const addEventFunc = async () => {\n      try {\n        dispatch(addEvent(newEvent));\n        setNewEvent(null);\n        toast.success(`Well Done ðŸ’ª :))`, {\n        icon: `âœ…`\n    });\n      } catch (error) {\n        return error.message\n      }\n    }\n\n    addEventFunc()\n\n  }, [dispatch, newEvent])\n  \n    \n//SUBMIT_FORM\n  const onSubFormData = e => {\n    e.preventDefault();\n\n    const objEvent = {\n      name:normalizeName(eventName),\n      id: nanoid(),\n      data,\n      isActive: false,\n    };\n \n    confirmContact(objEvent);\n    setEventName(\"\");\n  };\n\n  return (\n    <>\n      {/* {loading && <Loader loading={loading} />}  */}\n      <Appear time={750} >\n        <button\n          onClick={() => setToggleForm(prev => !prev)}\n          className=\"btn-add-event\"\n        >\n          {!toggleForm ?\n            <>\n            <AddBoxIcon\n            sx={{\n                color: \"#1fea66\",\n                fontSize: \"50px\"\n              }}\n              /> <strong\n                className={theme === themes.light ? \"lightText\" : \"darkText\"}\n              >Add an event</strong>\n            </>:\n          <DisabledByDefaultRoundedIcon\n            sx={{\n            color: \"#f44336\",      \n            fontSize: \"50px\"}}\n          />} \n      </button>\n      {toggleForm && <form onSubmit={onSubFormData}>\n          <div className=\"input-group\">\n            <input\n              className=\"input-main\"\n              name='event'\n              onChange={e => setEventName(e.target.value)}\n              type=\"text\"\n              placeholder=\"New Event...\"\n              value={eventName}\n            >\n            </input>\n            <button\n              className=\"addButton btn-main\"\n              type=\"submit\"\n            >\n              +\n            </button>\n          </div>\n        </form>}\n        </Appear>\n\n      \n    </>\n\n  )\n}\n\nCalendarForm.propTypes = {\n  data: PropTypes.string,\n}\n\nexport default CalendarForm"],"mappings":"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"},"metadata":{},"sourceType":"module"}