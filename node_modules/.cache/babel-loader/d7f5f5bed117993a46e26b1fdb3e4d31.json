{"ast":null,"code":"import _objectSpread from\"/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-08-phonebook/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useContext,useEffect,useState}from'react';import Switch from'@mui/material/Switch';import{useDispatch,useSelector}from'react-redux';import{AlarmContext}from\"../../context/ContextAlarm\";import{alarmState}from'redux/alarm/alarmsSelectors';import{deleteAlarm,getAlarms,toggleAlarm}from'redux/alarm/operation';import AlarmModal from'components/common/AlarmModal/AlarmModal';import DeleteForeverRoundedIcon from'@mui/icons-material/DeleteForeverRounded';import{ToastContainer,toast}from'react-toastify/dist/react-toastify';import{ThemeContext,themes}from'components/context/themeContext';import\"react-toastify/dist/ReactToastify.css\";import s from'./AlarmList.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AlarmList=function AlarmList(){var _useContext=useContext(ThemeContext),theme=_useContext.theme;var alarms=useSelector(alarmState);var dispatch=useDispatch();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),activeAlarm=_useState2[0],setActiveAlarm=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),deleteId=_useState4[0],setDeleteId=_useState4[1];var _useContext2=useContext(AlarmContext),pauseAlarm=_useContext2.pauseAlarm,hasAlarm=_useContext2.hasAlarm,setHasAlarm=_useContext2.setHasAlarm;//FIRST_FETCH\nuseEffect(function(){dispatch(getAlarms());},[dispatch]);//TOGGLE\nvar handleChange=function handleChange(item){return setActiveAlarm(_objectSpread(_objectSpread({},item),{},{isToggle:!item.isToggle}));};useEffect(function(){if(!activeAlarm)return;var handlerToggleAlarm=function handlerToggleAlarm(){dispatch(toggleAlarm(activeAlarm));setActiveAlarm(null);};handlerToggleAlarm();},[activeAlarm,dispatch]);var setAlarm=function setAlarm(){if(hasAlarm){pauseAlarm();setHasAlarm(false);return;}};//DELETE_ALARM\nvar onDeleteAlarm=function onDeleteAlarm(id){return setDeleteId(id);};useEffect(function(){if(!deleteId)return;console.log(deleteId);dispatch(deleteAlarm(deleteId));toast.success(\"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442 \\u0432\\u0438\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u0439 \\u0437\\u0456 \\u0441\\u043F\\u0438\\u0441\\u043A\\u0443 \\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u0456\\u0432 :))\",{icon:\"\\u274E\"});setDeleteId(null);},[deleteId,dispatch]);var deleteBtnColor=theme===themes.light?\"#3b423a\":\"#f0f6f0\";return/*#__PURE__*/_jsxs(_Fragment,{children:[hasAlarm&&/*#__PURE__*/_jsx(AlarmModal,{}),/*#__PURE__*/_jsx(\"ul\",{children:alarms&&alarms.map(function(item){return/*#__PURE__*/_jsxs(\"li\",{className:s.item,style:{backgroundColor:item.color},children:[/*#__PURE__*/_jsx(\"span\",{className:theme===themes.light?s.itemTextLight:s.itemTextDark,children:item.time}),/*#__PURE__*/_jsx(Switch,{value:item.time,checked:item.isToggle,onClick:hasAlarm?setAlarm:function(){return handleChange(item);},inputProps:{'aria-label':'controlled'}}),/*#__PURE__*/_jsx(DeleteForeverRoundedIcon,{onClick:function onClick(){return onDeleteAlarm(item.createdAt);},sx:{color:deleteBtnColor,fontSize:\"30px\"}})]},item.id);})}),/*#__PURE__*/_jsx(ToastContainer,{theme:\"dark\"})]});};export default AlarmList;","map":{"version":3,"names":["useContext","useEffect","useState","Switch","useDispatch","useSelector","AlarmContext","alarmState","deleteAlarm","getAlarms","toggleAlarm","AlarmModal","DeleteForeverRoundedIcon","ToastContainer","toast","ThemeContext","themes","s","AlarmList","theme","alarms","dispatch","activeAlarm","setActiveAlarm","deleteId","setDeleteId","pauseAlarm","hasAlarm","setHasAlarm","handleChange","item","isToggle","handlerToggleAlarm","setAlarm","onDeleteAlarm","id","console","log","success","icon","deleteBtnColor","light","map","backgroundColor","color","itemTextLight","itemTextDark","time","createdAt","fontSize"],"sources":["/Users/valentinkuzmich/Desktop/projects Go IT/goit-react-hw-08-phonebook/src/components/Clock/AlarmList/AlarmList.jsx"],"sourcesContent":["import { useContext, useEffect, useState } from 'react';\nimport Switch from '@mui/material/Switch';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AlarmContext } from \"../../context/ContextAlarm\";\nimport { alarmState } from 'redux/alarm/alarmsSelectors';\nimport { deleteAlarm, getAlarms, toggleAlarm } from 'redux/alarm/operation';\nimport AlarmModal from 'components/common/AlarmModal/AlarmModal';\nimport DeleteForeverRoundedIcon from '@mui/icons-material/DeleteForeverRounded';\nimport { ToastContainer, toast } from 'react-toastify/dist/react-toastify';\nimport { ThemeContext, themes } from 'components/context/themeContext';\nimport \"react-toastify/dist/ReactToastify.css\";\nimport s from './AlarmList.module.css'\n\n\n\n\nconst AlarmList = () => {\n  \n  const { theme } = useContext(ThemeContext);\n  const alarms = useSelector(alarmState);\n  const dispatch = useDispatch();\n  const [activeAlarm, setActiveAlarm] = useState(null);\n  const [deleteId, setDeleteId] = useState(null);\n\n  \n  const {\n    pauseAlarm,\n    hasAlarm,\n    setHasAlarm } = useContext(AlarmContext);\n\n  //FIRST_FETCH\n\n  useEffect(() => {\n    dispatch(getAlarms())\n  }, [dispatch]);\n\n\n  //TOGGLE\n\n  const handleChange = (item) => setActiveAlarm({ ...item, isToggle: !item.isToggle });\n\n  useEffect(() => {\n    if (!activeAlarm) return;\n    const handlerToggleAlarm = () => {\n      dispatch(toggleAlarm(activeAlarm))\n      setActiveAlarm(null)\n    }\n    \n    handlerToggleAlarm()\n  }, [activeAlarm, dispatch]);\n\n  const setAlarm = () => {\n    if (hasAlarm) {\n      pauseAlarm();\n      setHasAlarm(false);\n      return;\n    }\n  };\n     \n  //DELETE_ALARM\n\n  const onDeleteAlarm = (id) => setDeleteId(id);\n\n  useEffect(() => {\n    if (!deleteId) return;\n    console.log(deleteId);\n    dispatch(deleteAlarm(deleteId));\n    toast.success(`Контакт видалений зі списку контактів :))`, {\n      icon: `❎`\n    });\n    setDeleteId(null);\n\n  }, [deleteId, dispatch]);\n\n  const deleteBtnColor = theme === themes.light ?\"#3b423a\":\"#f0f6f0\"\n\n  return (\n    <>\n    {hasAlarm && <AlarmModal />}\n   \n    <ul>\n      {alarms && alarms.map((item) => {\n        return <li\n          className={s.item}\n          key={item.id}\n          style={{backgroundColor: item.color}}\n        >\n          <span className={theme === themes.light ?s.itemTextLight:s.itemTextDark}>{item.time}</span>\n          <Switch\n            value={item.time}\n            checked={item.isToggle}\n            onClick={hasAlarm? setAlarm:()=>handleChange(item)}\n            inputProps={{ 'aria-label': 'controlled' }}\n           \n          />\n          \n          <DeleteForeverRoundedIcon\n            onClick={(()=>onDeleteAlarm(item.createdAt))}\n            sx={{\n              color: deleteBtnColor,\n              fontSize: \"30px\"\n            }}\n          />\n      </li>}\n      )}\n     \n    </ul>\n     <ToastContainer theme=\"dark\"/>\n    </>\n  )\n}\n\nAlarmList.propTypes = {}\n\nexport default AlarmList"],"mappings":"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"},"metadata":{},"sourceType":"module"}